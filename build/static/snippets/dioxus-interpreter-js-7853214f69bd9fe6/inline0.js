let m,p,ls,d,t,op,i,e,z,metaflags;class ListenerMap{constructor(e){this.global={},this.local={},this.root=null,this.handler=null}create(e,t,s){if(s)void 0===this.global[e]?(this.global[e]={},this.global[e].active=1,this.root.addEventListener(e,this.handler)):this.global[e].active++;else{const s=t.getAttribute("data-dioxus-id");this.local[s]||(this.local[s]={}),t.addEventListener(e,this.handler)}}remove(e,t,s){if(s)this.global[t].active--,0===this.global[t].active&&(this.root.removeEventListener(t,this.global[t].callback),delete this.global[t]);else{const s=e.getAttribute("data-dioxus-id");delete this.local[s][t],0===this.local[s].length&&delete this.local[s],e.removeEventListener(t,this.handler)}}removeAllNonBubbling(e){const t=e.getAttribute("data-dioxus-id");delete this.local[t]}}function SetAttributeInner(e,t,s,n){const u=t;if("style"===n)void 0===e.style&&(e.style={}),e.style[u]=s;else if(null!=n&&""!==n)e.setAttributeNS(n,u,s);else switch(u){case"value":s!==e.value&&(e.value=s);break;case"checked":e.checked="true"===s;break;case"selected":e.selected="true"===s;break;case"dangerous_inner_html":e.innerHTML=s;break;default:"false"===s&&bool_attrs.hasOwnProperty(u)?e.removeAttribute(u):e.setAttribute(u,s)}}function LoadChild(e,t){for(node=stack[stack.length-1],ptr_end=e+t;e<ptr_end;e++)for(end=m.getUint8(e),node=node.firstChild;end>0;end--)node=node.nextSibling;return node}const listeners=new ListenerMap;let root,nodes=[],stack=[];const templates={};let node,els,end,ptr_end,k;export function save_template(e,t){templates[t]=e}export function set_node(e,t){nodes[e]=t}export function get_node(e){return nodes[e]}export function initilize(e,t){listeners.handler=t,nodes=[e],stack=[e],listeners.root=e}function AppendChildren(e,t){for(root=nodes[e],els=stack.splice(stack.length-t),k=0;k<t;k++)root.appendChild(els[k])}const bool_attrs={allowfullscreen:!0,allowpaymentrequest:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0,truespeed:!0},attr=[];let attr_tmp1,attr_tmp2;function get_attr(){return attr_tmp2=u8buf[u8bufp++],128&attr_tmp2?(attr_tmp1=s.substring(sp,sp+=u8buf[u8bufp++]),attr[4294967167&attr_tmp2]=attr_tmp1,attr_tmp1):attr[4294967167&attr_tmp2]}const ns_cache=[];let ns_cache_tmp1,ns_cache_tmp2,u8buf,u8bufp,u32buf,u32bufp,s,lsp,sp,sl;function get_ns_cache(){return ns_cache_tmp2=u8buf[u8bufp++],128&ns_cache_tmp2?(ns_cache_tmp1=s.substring(sp,sp+=u8buf[u8bufp++]),ns_cache[4294967167&ns_cache_tmp2]=ns_cache_tmp1,ns_cache_tmp1):ns_cache[4294967167&ns_cache_tmp2]}let c=new TextDecoder;const evt=[];let evt_tmp1,evt_tmp2,len,event_name,field,id,value,bubbles,ns,ptr;function get_evt(){return evt_tmp2=u8buf[u8bufp++],128&evt_tmp2?(evt_tmp1=s.substring(sp,sp+=u8buf[u8bufp++]),evt[4294967167&evt_tmp2]=evt_tmp1,evt_tmp1):evt[4294967167&evt_tmp2]}export function create(e){d=e}export function update_memory(e){m=new DataView(e.buffer)}export function run(){if(metaflags=m.getUint32(d,!0),metaflags>>>12&1&&(ls=m.getUint32(d+48,!0)),p=ls,metaflags>>>5&1&&(u8buf=new Uint8Array(m.buffer,m.getUint32(d+20,!0))),u8bufp=0,metaflags>>>3&1&&(u32buf=new Uint32Array(m.buffer,m.getUint32(d+12,!0))),u32bufp=0,1&metaflags&&(lsp=m.getUint32(d+4,!0)),metaflags>>>2&1)if(sl=m.getUint32(d+8,!0),metaflags>>>1&1){for(sp=lsp,s="",e=sp+4*(sl/4|0);sp<e;)t=m.getUint32(sp,!0),s+=String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,t>>24),sp+=4;for(;sp<lsp+sl;)s+=String.fromCharCode(m.getUint8(sp++))}else s=c.decode(new DataView(m.buffer,lsp,sl));for(sp=0;;)for(op=m.getUint32(p,!0),p+=4,z=0;z++<4;){switch(255&op){case 0:AppendChildren(root,stack.length-1);break;case 1:stack.push(nodes[u32buf[u32bufp++]]);break;case 2:AppendChildren(u32buf[u32bufp++],u32buf[u32bufp++]);break;case 3:stack.pop();break;case 4:root=nodes[u32buf[u32bufp++]],els=stack.splice(stack.length-u32buf[u32bufp++]),root.listening&&listeners.removeAllNonBubbling(root),root.replaceWith(...els);break;case 5:nodes[u32buf[u32bufp++]].after(...stack.splice(stack.length-u32buf[u32bufp++]));break;case 6:nodes[u32buf[u32bufp++]].before(...stack.splice(stack.length-u32buf[u32bufp++]));break;case 7:node=nodes[u32buf[u32bufp++]],void 0!==node&&(node.listening&&listeners.removeAllNonBubbling(node),node.remove());break;case 8:stack.push(document.createTextNode(s.substring(sp,sp+=u32buf[u32bufp++])));break;case 9:node=document.createTextNode(s.substring(sp,sp+=u32buf[u32bufp++])),nodes[u32buf[u32bufp++]]=node,stack.push(node);break;case 10:node=document.createElement("pre"),node.hidden=!0,stack.push(node),nodes[u32buf[u32bufp++]]=node;break;case 11:event_name=get_evt(),id=u32buf[u32bufp++],bubbles=u8buf[u8bufp++],node=nodes[id],node.listening?node.listening+=1:node.listening=1,node.setAttribute("data-dioxus-id",`${id}`),listeners.create(event_name,node,bubbles);break;case 12:node=nodes[u32buf[u32bufp++]],node.listening-=1,node.removeAttribute("data-dioxus-id"),listeners.remove(node,get_evt(),u8buf[u8bufp++]);break;case 13:nodes[u32buf[u32bufp++]].textContent=s.substring(sp,sp+=u32buf[u32bufp++]);break;case 14:node=nodes[u32buf[u32bufp++]],SetAttributeInner(node,get_attr(),s.substring(sp,sp+=u32buf[u32bufp++]),get_ns_cache());break;case 15:id=u32buf[u32bufp++],field=get_attr(),ns=get_ns_cache(),name=field,node=nodes[id],"style"==ns?node.style.removeProperty(name):null!=ns&&""!==ns?node.removeAttributeNS(ns,name):"value"===name?node.value="":"checked"===name?node.checked=!1:"selected"===name?node.selected=!1:"dangerous_inner_html"===name?node.innerHTML="":node.removeAttribute(name);break;case 16:nodes[u32buf[u32bufp++]]=LoadChild(u32buf[u32bufp++],u8buf[u8bufp++]);break;case 17:if(ptr=u32buf[u32bufp++],len=u8buf[u8bufp++],value=s.substring(sp,sp+=u32buf[u32bufp++]),id=u32buf[u32bufp++],node=LoadChild(ptr,len),node.nodeType==Node.TEXT_NODE)node.textContent=value;else{let e=document.createTextNode(value);node.replaceWith(e),node=e}nodes[id]=node;break;case 18:els=stack.splice(stack.length-u32buf[u32bufp++]),node=LoadChild(u32buf[u32bufp++],u8buf[u8bufp++]),node.replaceWith(...els);break;case 19:node=templates[u32buf[u32bufp++]][u32buf[u32bufp++]].cloneNode(!0),nodes[u32buf[u32bufp++]]=node,stack.push(node);break;case 20:return!0}op>>>=8}}